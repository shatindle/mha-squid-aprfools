var resizeTimer;
! function (s, i, n, l) {
    var c = s(i);
    s.fn.lazyload = function (e) {
        var t, o = this,
            r = {
                threshold: 0,
                failure_limit: 0,
                event: "scroll",
                effect: "show",
                container: i,
                data_attribute: "original",
                skip_invisible: !1,
                appear: null,
                load: null,
                placeholder: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"
            };

        function a() {
            var t = 0;
            o.each(function () {
                var e = s(this);
                if (!r.skip_invisible || e.is(":visible"))
                    if (s.abovethetop(this, r) || s.leftofbegin(this, r));
                    else if (s.belowthefold(this, r) || s.rightoffold(this, r)) {
                    if (++t > r.failure_limit) return !1
                } else e.trigger("appear"), t = 0
            })
        }
        return e && (l !== e.failurelimit && (e.failure_limit = e.failurelimit, delete e.failurelimit), l !== e.effectspeed && (e.effect_speed = e.effectspeed, delete e.effectspeed), s.extend(r, e)), t = r.container === l || r.container === i ? c : s(r.container), 0 === r.event.indexOf("scroll") && t.bind(r.event, function () {
            return a()
        }), this.each(function () {
            var i = this,
                n = s(i);
            i.loaded = !1, n.attr("src") !== l && !1 !== n.attr("src") || n.is("img") && n.attr("src", r.placeholder), n.one("appear", function () {
                if (!this.loaded) {
                    if (r.appear) {
                        var e = o.length;
                        r.appear.call(i, e, r)
                    }
                    s("<img />").bind("load", function () {
                        var e = n.attr("data-" + r.data_attribute);
                        n.hide(), n.is("img") ? n.attr("src", e) : n.css("background-image", "url('" + e + "')"), n[r.effect](r.effect_speed), i.loaded = !0;
                        var t = s.grep(o, function (e) {
                            return !e.loaded
                        });
                        if (o = s(t), r.load) {
                            var a = o.length;
                            r.load.call(i, a, r)
                        }
                    }).attr("src", n.attr("data-" + r.data_attribute))
                }
            }), 0 !== r.event.indexOf("scroll") && n.bind(r.event, function () {
                i.loaded || n.trigger("appear")
            })
        }), c.bind("resize", function () {
            a()
        }), /(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion) && c.bind("pageshow", function (e) {
            e.originalEvent && e.originalEvent.persisted && o.each(function () {
                s(this).trigger("appear")
            })
        }), s(n).ready(function () {
            a()
        }), this
    }, s.belowthefold = function (e, t) {
        return (t.container === l || t.container === i ? (i.innerHeight ? i.innerHeight : c.height()) + c.scrollTop() : s(t.container).offset().top + s(t.container).height()) <= s(e).offset().top - t.threshold
    }, s.rightoffold = function (e, t) {
        return (t.container === l || t.container === i ? c.width() + c.scrollLeft() : s(t.container).offset().left + s(t.container).width()) <= s(e).offset().left - t.threshold
    }, s.abovethetop = function (e, t) {
        return (t.container === l || t.container === i ? c.scrollTop() : s(t.container).offset().top) >= s(e).offset().top + t.threshold + s(e).height()
    }, s.leftofbegin = function (e, t) {
        return (t.container === l || t.container === i ? c.scrollLeft() : s(t.container).offset().left) >= s(e).offset().left + t.threshold + s(e).width()
    }, s.inviewport = function (e, t) {
        return !(s.rightoffold(e, t) || s.leftofbegin(e, t) || s.belowthefold(e, t) || s.abovethetop(e, t))
    }, s.extend(s.expr[":"], {
        "below-the-fold": function (e) {
            return s.belowthefold(e, {
                threshold: 0
            })
        },
        "above-the-top": function (e) {
            return !s.belowthefold(e, {
                threshold: 0
            })
        },
        "right-of-screen": function (e) {
            return s.rightoffold(e, {
                threshold: 0
            })
        },
        "left-of-screen": function (e) {
            return !s.rightoffold(e, {
                threshold: 0
            })
        },
        "in-viewport": function (e) {
            return s.inviewport(e, {
                threshold: 0
            })
        },
        "above-the-fold": function (e) {
            return !s.belowthefold(e, {
                threshold: 0
            })
        },
        "right-of-fold": function (e) {
            return s.rightoffold(e, {
                threshold: 0
            })
        },
        "left-of-fold": function (e) {
            return !s.rightoffold(e, {
                threshold: 0
            })
        }
    })
}(jQuery, window, document),
function () {
    var e, d = null,
        a = null,
        u = null,
        p = [],
        f = [],
        h = null,
        t = null;
    if ("undefined" != typeof autocomplete_character_trigger) var i = autocomplete_character_trigger;
    if ("undefined" != typeof map_radius_distance_in_miles) var m = map_radius_distance_in_miles;
    else m = 50;
    var n = !1,
        o = !1;

    function r() {
        var e = new google.maps.Geocoder;
        setTimeout(function () {
            s()
        }, 250), e.geocode({
            address: jQuery("#theater_locator_zip_input input").val()
        }, function (e, t) {
            t == google.maps.GeocoderStatus.OK && (lat = e[0].geometry.location.lat(), lng = e[0].geometry.location.lng(), d = new google.maps.LatLng(lat, lng), empty_theater_list = '<p class="noTheaterResults">Sorry, there are no theaters available in this area; please try another location.</p>', null != a && "" != a ? l(a) : (jQuery("#theater_locator_list").html(empty_theater_list), jQuery("#theater_locator_list_wrapper").addClass("active"), jQuery("#theater_locator_map").addClass("active")), 0 < jQuery("#theater_locator_list").children().length ? c() : jQuery("#theater_locator_list").html(empty_theater_list))
        })
    }

    function s() {
        var e = u.getCenter();
        google.maps.event.trigger(u, "resize"), u.setCenter(e)
    }
    jQuery("#theater_locator_zip_input input").keypress(function (e) {
        13 == e.which && r()
    }), jQuery("#theater_locator_zip_input input").keyup(function () {
        jQuery(this).val().length >= i ? null == e && (e = new google.maps.places.Autocomplete(t), setTimeout(function () {
            google.maps.event.trigger(t, "focus", {})
        }, 200)) : null != e && (google.maps.event.clearInstanceListeners(t), e = void 0, jQuery(".pac-container").remove())
    }), jQuery("#theater_locator_zip_input input").bind("focusout", function () {
        jQuery(".theater_locator_input_enter").addClass("animate")
    }), jQuery("#theater_locator_zip_input input").bind("focusin", function () {
        jQuery(".theater_locator_input_enter").removeClass("animate"),
            function () {
                if (document.getElementById("theater_locator_map") && !n) {
                    u = new google.maps.Map(document.getElementById("theater_locator_map"), {
                        panControl: !1,
                        zoomControl: !0,
                        streetViewControl: !1,
                        zoom: 5,
                        mapTypeId: google.maps.MapTypeId.ROADMAP,
                        center: new google.maps.LatLng(33.03744944, -97.0969552),
                        disableDefaultUI: !0,
                        scrollwheel: !1,
                        mapTypeControl: !1,
                        navigationControl: !1,
                        scaleControl: !0
                    }), t = document.getElementById("theater_locator_input"), marker = [], [], f = [];
                    var e = new XMLHttpRequest;
                    e.open("GET", theater_locator_api, !1), e.onreadystatechange = function () {
                        4 === e.readyState && (200 !== e.status && 0 != e.status || (a = JSON.parse(e.responseText)))
                    }, e.send(null), google.maps.event.addDomListener(window, "resize", function () {
                        s()
                    }), n = !0
                }
            }()
    }), jQuery("#theater_locator_zip_input input").change(function () {
        setTimeout(function () {
            o && r(), o = !1
        }, 250)
    }), jQuery(".theater_locator_input_enter").bind("click", function () {
        r()
    }), jQuery(document).on("mousedown", ".pac-container", function () {
        o = !0
    });
    var l = function (e) {
            v(), h = new google.maps.LatLngBounds;
            var c = 0;
            jQuery.each(e, function (e, t) {
                var a = new google.maps.LatLng(t.theater_latitude, t.theater_longitude);
                if (null !== d && null !== a && (max_lat = d.lat() + y(m / g.earth_radius_in_miles), min_lat = d.lat() - y(m / g.earth_radius_in_miles), max_lng = d.lng() + y(m / g.earth_radius_in_miles / Math.cos(w(d.lat()))), min_lng = d.lng() - y(m / g.earth_radius_in_miles / Math.cos(w(d.lat()))), a.lat() >= min_lat && a.lat() <= max_lat && a.lng() >= min_lng && a.lng() <= max_lng)) {
                    var i = g.CalcDistance(d.lat(), d.lng(), a.lat(), a.lng(), g.earth_radius_in_miles),
                        n = 1 < i ? "miles" : "mile",
                        o = t.theater_urls;
                    ticket_regex_btns = "";
                    for (var r = 0; r < o.length; r++) ticket_regex_btn_text = "" != o[r].theater_button_text ? o[r].theater_button_text : "Buy Tickets", ticket_regex_btns += '<a class="btn inverse theater_location_exhibitor" target="blank" href="' + o[r].theater_url + '">' + ticket_regex_btn_text + "</a>";
                    var s = '<div class="theater_location_item" data-distance=' + i.toFixed(2) + '><div class="theater_location_name">' + t.theater_name + '</div><div class="theater_location_address">' + t.theater_address + "<br/>" + t.theater_city + ", " + t.theater_state + " " + t.theater_zip + '</div><div class="theater_location_distance">Distance: <span class="theater_location_distance_miles">' + i.toFixed(2) + "</span> " + n + "</div>";
                    t.theater_start_date.length && (s += '<div class="theater_movie_date">Start Date: <strong>' + t.theater_start_date + "</strong></div>"), s += ticket_regex_btns, jQuery("#theater_locator_list").append(s), markeritem = null, markeritem = new google.maps.Marker({
                        position: a,
                        map: u,
                        title: t.theater_name,
                        icon: "/wp-content/themes/FUNi_Theaters/images/icons/map-pin.png",
                        resultIndex: c
                    }), p.push(markeritem), h.extend(a);
                    var l = '<div class="popup_container"><h4>' + t.theater_name + '</h4><p class="address">' + t.theater_address + "<br/>" + t.theater_city + ", " + t.theater_state + " " + t.theater_zip + '</p><p class="distance">Distance: ' + i.toFixed(2) + " " + n + "</p>";
                    t.theater_start_date.length && (l += '<div class="screen_date">Start Date: <strong>' + t.theater_start_date + "</strong></div>"), l += ticket_regex_btns, l += "</div>", f = new google.maps.InfoWindow({
                        content: l
                    }), google.maps.event.addListener(markeritem, "click", function () {
                        f.close(), f.setContent(l), f.open(u, this), u.panTo(this.getPosition()), jQuery("#theater_locator_list .theater_location_item").removeClass("active"), jQuery('#theater_locator_list .theater_location_item[data-index="' + this.resultIndex + '"]').addClass("active");
                        var e = jQuery('#theater_locator_list .theater_location_item[data-index="' + this.resultIndex + '"]').position().top;
                        jQuery("#theater_locator_list_wrapper").animate({
                            scrollTop: e
                        }, 400)
                    }), c++
                }
            }), jQuery("#theater_locator_list_wrapper").addClass("active"), jQuery("#theater_locator_map").addClass("active"), b(u), u.fitBounds(h)
        },
        c = function () {
            var e = jQuery("#theater_locator_list"),
                t = e.find(".theater_location_item");
            t.each(function (e) {
                jQuery(this).attr("data-index", e)
            });
            for (var a, i = !0; i;) i = !1, a = t.sort(function (e, t) {
                return +e.dataset.distance - +t.dataset.distance
            });
            e.html(""), e.append(a), jQuery("body").on("click", "#theater_locator_list .theater_location_item", function (e) {
                jQuery(".theater_location_name").text();
                var t = jQuery(this).data("index");
                new google.maps.event.trigger(p[t], "click")
            })
        },
        v = function () {
            jQuery("#theater_locator_list").html(""), x(), p = [], x()
        },
        g = {};

    function y(e) {
        return 57.29577951308232 * e
    }

    function w(e) {
        return .017453292519943295 * e
    }

    function b(e) {
        for (var t = 0; t < p.length; t++) p[t].setMap(e)
    }

    function x() {
        b(null)
    }
    g.earth_radius_in_miles = 3956, g.to_radian = function (e) {
        return e * (Math.PI / 180)
    }, g.diff_radian = function (e, t) {
        return g.to_radian(t) - g.to_radian(e)
    }, g.CalcDistance = function (e, t, a, i, n) {
        return 2 * n * Math.asin(Math.min(1, Math.sqrt(Math.pow(Math.sin(g.diff_radian(e, a) / 2), 2) + Math.cos(g.to_radian(e)) * Math.cos(g.to_radian(a)) * Math.pow(Math.sin(g.diff_radian(t, i) / 2), 2))))
    }
}(jQuery),
function (x) {
    var _ = 0;
    x.flexslider = function (f, e) {
        var h = x(f);
        h.vars = x.extend({}, x.flexslider.defaults, e);
        var t, d = h.vars.namespace,
            m = window.navigator && window.navigator.msPointerEnabled && window.MSGesture,
            u = ("ontouchstart" in window || m || window.DocumentTouch && document instanceof DocumentTouch) && h.vars.touch,
            r = "click touchend MSPointerUp keyup",
            s = "",
            v = "vertical" === h.vars.direction,
            g = h.vars.reverse,
            y = 0 < h.vars.itemWidth,
            w = "fade" === h.vars.animation,
            p = "" !== h.vars.asNavFor,
            b = {};
        x.data(f, "flexslider", h), b = {
            init: function () {
                h.animating = !1, h.currentSlide = parseInt(h.vars.startAt ? h.vars.startAt : 0, 10), isNaN(h.currentSlide) && (h.currentSlide = 0), h.animatingTo = h.currentSlide, h.atEnd = 0 === h.currentSlide || h.currentSlide === h.last, h.containerSelector = h.vars.selector.substr(0, h.vars.selector.search(" ")), h.slides = x(h.vars.selector, h), h.container = x(h.containerSelector, h), h.count = h.slides.length, h.syncExists = 0 < x(h.vars.sync).length, "slide" === h.vars.animation && (h.vars.animation = "swing"), h.prop = v ? "top" : "marginLeft", h.args = {}, h.manualPause = !1, h.stopped = !1, h.started = !1, h.startTimeout = null, h.transitions = !h.vars.video && !w && h.vars.useCSS && function () {
                    var e = document.createElement("div"),
                        t = ["perspectiveProperty", "WebkitPerspective", "MozPerspective", "OPerspective", "msPerspective"];
                    for (var a in t)
                        if (void 0 !== e.style[t[a]]) return h.pfx = t[a].replace("Perspective", "").toLowerCase(), h.prop = "-" + h.pfx + "-transform", !0;
                    return !1
                }(), (h.ensureAnimationEnd = "") !== h.vars.controlsContainer && (h.controlsContainer = 0 < x(h.vars.controlsContainer).length && x(h.vars.controlsContainer)), "" !== h.vars.manualControls && (h.manualControls = 0 < x(h.vars.manualControls).length && x(h.vars.manualControls)), "" !== h.vars.customDirectionNav && (h.customDirectionNav = 2 === x(h.vars.customDirectionNav).length && x(h.vars.customDirectionNav)), h.vars.randomize && (h.slides.sort(function () {
                    return Math.round(Math.random()) - .5
                }), h.container.empty().append(h.slides)), h.doMath(), h.setup("init"), h.vars.controlNav && b.controlNav.setup(), h.vars.directionNav && b.directionNav.setup(), h.vars.keyboard && (1 === x(h.containerSelector).length || h.vars.multipleKeyboard) && x(document).bind("keyup", function (e) {
                    var t = e.keyCode;
                    if (!h.animating && (39 === t || 37 === t)) {
                        var a = 39 === t ? h.getTarget("next") : 37 === t && h.getTarget("prev");
                        h.flexAnimate(a, h.vars.pauseOnAction)
                    }
                }), h.vars.mousewheel && h.bind("mousewheel", function (e, t, a, i) {
                    e.preventDefault();
                    var n = t < 0 ? h.getTarget("next") : h.getTarget("prev");
                    h.flexAnimate(n, h.vars.pauseOnAction)
                }), h.vars.pausePlay && b.pausePlay.setup(), h.vars.slideshow && h.vars.pauseInvisible && b.pauseInvisible.init(), h.vars.slideshow && (h.vars.pauseOnHover && h.hover(function () {
                    h.manualPlay || h.manualPause || h.pause()
                }, function () {
                    h.manualPause || h.manualPlay || h.stopped || h.play()
                }), h.vars.pauseInvisible && b.pauseInvisible.isHidden() || (0 < h.vars.initDelay ? h.startTimeout = setTimeout(h.play, h.vars.initDelay) : h.play())), p && b.asNav.setup(), u && h.vars.touch && b.touch(), (!w || w && h.vars.smoothHeight) && x(window).bind("resize orientationchange focus", b.resize), h.find("img").attr("draggable", "false"), h.find(".flex-direction-nav li a").hasClass("flex-disabled") ? h.removeClass("scrolling") : h.addClass("scrolling"), setTimeout(function () {
                    h.vars.start(h)
                }, 200)
            },
            asNav: {
                setup: function () {
                    h.asNav = !0, h.animatingTo = Math.floor(h.currentSlide / h.move), h.currentItem = h.currentSlide, h.slides.removeClass(d + "active-slide").eq(h.currentItem).addClass(d + "active-slide"), m ? (f._slider = h).slides.each(function () {
                        var e = this;
                        e._gesture = new MSGesture, (e._gesture.target = e).addEventListener("MSPointerDown", function (e) {
                            e.preventDefault(), e.currentTarget._gesture && e.currentTarget._gesture.addPointer(e.pointerId)
                        }, !1), e.addEventListener("MSGestureTap", function (e) {
                            e.preventDefault();
                            var t = x(this),
                                a = t.index();
                            x(h.vars.asNavFor).data("flexslider").animating || t.hasClass("active") || (h.direction = h.currentItem < a ? "next" : "prev", h.flexAnimate(a, h.vars.pauseOnAction, !1, !0, !0))
                        })
                    }) : h.slides.on(r, function (e) {
                        e.preventDefault();
                        var t = x(this),
                            a = t.index();
                        t.offset().left - x(h).scrollLeft() <= 0 && t.hasClass(d + "active-slide") ? h.flexAnimate(h.getTarget("prev"), !0) : x(h.vars.asNavFor).data("flexslider").animating || t.hasClass(d + "active-slide") || (h.direction = h.currentItem < a ? "next" : "prev", h.flexAnimate(a, h.vars.pauseOnAction, !1, !0, !0))
                    })
                }
            },
            controlNav: {
                setup: function () {
                    h.manualControls ? b.controlNav.setupManual() : b.controlNav.setupPaging()
                },
                setupPaging: function () {
                    var e, t, a = "thumbnails" === h.vars.controlNav ? "control-thumbs" : "control-paging",
                        i = 1;
                    if (h.controlNavScaffold = x('<ol class="' + d + "control-nav " + d + a + '"></ol>'), 1 < h.pagingCount)
                        for (var n = 0; n < h.pagingCount; n++) {
                            if (t = h.slides.eq(n), e = "thumbnails" === h.vars.controlNav ? '<img src="' + t.attr("data-thumb") + '"/>' : "<a>" + i + "</a>", "thumbnails" === h.vars.controlNav && !0 === h.vars.thumbCaptions) {
                                var o = t.attr("data-thumbcaption");
                                "" !== o && void 0 !== o && (e += '<span class="' + d + 'caption">' + o + "</span>")
                            }
                            h.controlNavScaffold.append("<li>" + e + "</li>"), i++
                        }
                    h.controlsContainer ? x(h.controlsContainer).append(h.controlNavScaffold) : h.append(h.controlNavScaffold), b.controlNav.set(), b.controlNav.active(), h.controlNavScaffold.delegate("a, img", r, function (e) {
                        if (e.preventDefault(), "" === s || s === e.type) {
                            var t = x(this),
                                a = h.controlNav.index(t);
                            t.hasClass(d + "active") || (h.direction = a > h.currentSlide ? "next" : "prev", h.flexAnimate(a, h.vars.pauseOnAction))
                        }
                        "" === s && (s = e.type), b.setToClearWatchedEvent()
                    }), x("." + d + "control-nav").css("bottom", _)
                },
                setupManual: function () {
                    h.controlNav = h.manualControls, b.controlNav.active(), h.controlNav.bind(r, function (e) {
                        if (e.preventDefault(), "" === s || s === e.type) {
                            var t = x(this),
                                a = h.controlNav.index(t);
                            t.hasClass(d + "active") || (a > h.currentSlide ? h.direction = "next" : h.direction = "prev", h.flexAnimate(a, h.vars.pauseOnAction))
                        }
                        "" === s && (s = e.type), b.setToClearWatchedEvent()
                    })
                },
                set: function () {
                    var e = "thumbnails" === h.vars.controlNav ? "img" : "a";
                    h.controlNav = x("." + d + "control-nav li " + e, h.controlsContainer ? h.controlsContainer : h)
                },
                active: function () {
                    h.controlNav.removeClass(d + "active").eq(h.animatingTo).addClass(d + "active")
                },
                update: function (e, t) {
                    1 < h.pagingCount && "add" === e ? h.controlNavScaffold.append(x("<li><a>" + h.count + "</a></li>")) : 1 === h.pagingCount ? h.controlNavScaffold.find("li").remove() : h.controlNav.eq(t).closest("li").remove(), b.controlNav.set(), 1 < h.pagingCount && h.pagingCount !== h.controlNav.length ? h.update(t, e) : b.controlNav.active()
                }
            },
            directionNav: {
                setup: function () {
                    var e = x('<ul class="' + d + 'direction-nav"><li class="' + d + 'nav-prev"><a class="' + d + 'prev" href="javascript:void(0)">' + h.vars.prevText + '</a></li><li class="' + d + 'nav-next"><a class="' + d + 'next" href="javascript:void(0)">' + h.vars.nextText + "</a></li></ul>");
                    h.customDirectionNav ? h.directionNav = h.customDirectionNav : h.controlsContainer ? (x(h.controlsContainer).append(e), h.directionNav = x("." + d + "direction-nav li a", h.controlsContainer)) : (h.append(e), h.directionNav = x("." + d + "direction-nav li a", h)), b.directionNav.update(), h.directionNav.bind(r, function (e) {
                        var t;
                        e.preventDefault(), "" !== s && s !== e.type || (t = x(this).hasClass(d + "next") ? h.getTarget("next") : h.getTarget("prev"), h.flexAnimate(t, h.vars.pauseOnAction)), "" === s && (s = e.type), b.setToClearWatchedEvent()
                    })
                },
                update: function () {
                    var e = d + "disabled";
                    1 === h.pagingCount ? h.directionNav.addClass(e).attr("tabindex", "-1") : h.vars.animationLoop ? h.directionNav.removeClass(e).removeAttr("tabindex") : 0 === h.animatingTo ? h.directionNav.removeClass(e).filter("." + d + "prev").addClass(e).attr("tabindex", "-1") : h.animatingTo === h.last ? h.directionNav.removeClass(e).filter("." + d + "next").addClass(e).attr("tabindex", "-1") : h.directionNav.removeClass(e).removeAttr("tabindex")
                }
            },
            pausePlay: {
                setup: function () {
                    var e = x('<div class="' + d + 'pauseplay"><a></a></div>');
                    h.controlsContainer ? (h.controlsContainer.append(e), h.pausePlay = x("." + d + "pauseplay a", h.controlsContainer)) : (h.append(e), h.pausePlay = x("." + d + "pauseplay a", h)), b.pausePlay.update(h.vars.slideshow ? d + "pause" : d + "play"), h.pausePlay.bind(r, function (e) {
                        e.preventDefault(), "" !== s && s !== e.type || (x(this).hasClass(d + "pause") ? (h.manualPause = !0, h.manualPlay = !1, h.pause()) : (h.manualPause = !1, h.manualPlay = !0, h.play())), "" === s && (s = e.type), b.setToClearWatchedEvent()
                    })
                },
                update: function (e) {
                    "play" === e ? h.pausePlay.removeClass(d + "pause").addClass(d + "play").html(h.vars.playText) : h.pausePlay.removeClass(d + "play").addClass(d + "pause").html(h.vars.pauseText)
                }
            },
            touch: function () {
                var n, o, r, s, l, c, e, i, d, u = !1,
                    t = 0,
                    a = 0,
                    p = 0;
                if (m) {
                    f.style.msTouchAction = "none", f._gesture = new MSGesture, (f._gesture.target = f).addEventListener("MSPointerDown", function (e) {
                        e.stopPropagation(), h.animating ? e.preventDefault() : (h.pause(), f._gesture.addPointer(e.pointerId), p = 0, s = v ? h.h : h.w, c = Number(new Date), r = y && g && h.animatingTo === h.last ? 0 : y && g ? h.limit - (h.itemW + h.vars.itemMargin) * h.move * h.animatingTo : y && h.currentSlide === h.last ? h.limit : y ? (h.itemW + h.vars.itemMargin) * h.move * h.currentSlide : g ? (h.last - h.currentSlide + h.cloneOffset) * s : (h.currentSlide + h.cloneOffset) * s)
                    }, !1), f._slider = h, f.addEventListener("MSGestureChange", function (e) {
                        e.stopPropagation();
                        var t = e.target._slider;
                        if (!t) return;
                        var a = -e.translationX,
                            i = -e.translationY;
                        if (l = p += v ? i : a, u = v ? Math.abs(p) < Math.abs(-a) : Math.abs(p) < Math.abs(-i), e.detail === e.MSGESTURE_FLAG_INERTIA) return void setImmediate(function () {
                            f._gesture.stop()
                        });
                        (!u || 500 < Number(new Date) - c) && (e.preventDefault(), !w && t.transitions && (t.vars.animationLoop || (l = p / (0 === t.currentSlide && p < 0 || t.currentSlide === t.last && 0 < p ? Math.abs(p) / s + 2 : 1)), t.setProps(r + l, "setTouch")))
                    }, !1), f.addEventListener("MSGestureEnd", function (e) {
                        e.stopPropagation();
                        var t = e.target._slider;
                        if (!t) return;
                        if (t.animatingTo === t.currentSlide && !u && null !== l) {
                            var a = g ? -l : l,
                                i = 0 < a ? t.getTarget("next") : t.getTarget("prev");
                            t.canAdvance(i) && (Number(new Date) - c < 550 && 50 < Math.abs(a) || Math.abs(a) > s / 2) ? t.flexAnimate(i, t.vars.pauseOnAction) : w || t.flexAnimate(t.currentSlide, t.vars.pauseOnAction, !0)
                        }
                        r = l = o = n = null, p = 0
                    }, !1)
                } else e = function (e) {
                    h.animating ? e.preventDefault() : (window.navigator.msPointerEnabled || 1 === e.touches.length) && (h.pause(), s = v ? h.h : h.w, c = Number(new Date), t = e.touches[0].pageX, a = e.touches[0].pageY, r = y && g && h.animatingTo === h.last ? 0 : y && g ? h.limit - (h.itemW + h.vars.itemMargin) * h.move * h.animatingTo : y && h.currentSlide === h.last ? h.limit : y ? (h.itemW + h.vars.itemMargin) * h.move * h.currentSlide : g ? (h.last - h.currentSlide + h.cloneOffset) * s : (h.currentSlide + h.cloneOffset) * s, n = v ? a : t, o = v ? t : a, f.addEventListener("touchmove", i, !1), f.addEventListener("touchend", d, !1))
                }, i = function (e) {
                    t = e.touches[0].pageX, a = e.touches[0].pageY, l = v ? n - a : n - t;
                    (!(u = v ? Math.abs(l) < Math.abs(t - o) : Math.abs(l) < Math.abs(a - o)) || 500 < Number(new Date) - c) && (e.preventDefault(), !w && h.transitions && (h.vars.animationLoop || (l /= 0 === h.currentSlide && l < 0 || h.currentSlide === h.last && 0 < l ? Math.abs(l) / s + 2 : 1), h.setProps(r + l, "setTouch")))
                }, d = function (e) {
                    if (f.removeEventListener("touchmove", i, !1), h.animatingTo === h.currentSlide && !u && null !== l) {
                        var t = g ? -l : l,
                            a = 0 < t ? h.getTarget("next") : h.getTarget("prev");
                        h.canAdvance(a) && (Number(new Date) - c < 550 && 50 < Math.abs(t) || Math.abs(t) > s / 2) ? h.flexAnimate(a, h.vars.pauseOnAction) : w || h.flexAnimate(h.currentSlide, h.vars.pauseOnAction, !0)
                    }
                    f.removeEventListener("touchend", d, !1), r = l = o = n = null
                }, f.addEventListener("touchstart", e, !1)
            },
            resize: function () {
                !h.animating && h.is(":visible") && (y || h.doMath(), w ? b.smoothHeight() : y ? (h.slides.width(h.computedW), h.slides.find(".flipper-card").height(h.computedW), h.update(h.pagingCount), h.setProps()) : v ? (h.viewport.height(h.h), h.setProps(h.h, "setTotal")) : (h.vars.smoothHeight && b.smoothHeight(), h.newSlides.width(h.computedW), h.newSlides.find(".flipper-card").height(h.computedW), h.setProps(h.computedW, "setTotal"))), h.find(".flex-direction-nav li a").hasClass("flex-disabled") ? h.removeClass("scrolling") : h.addClass("scrolling"), _ = parseInt(h.find(".flex-active-slide").find(".movie_info").outerHeight()), x("." + d + "control-nav").css("bottom", _)
            },
            smoothHeight: function (e) {
                if (!v || w) {
                    var t = w ? h : h.viewport;
                    e ? t.animate({
                        height: h.slides.eq(h.animatingTo).height()
                    }, e) : t.height(h.slides.eq(h.animatingTo).height())
                }
            },
            sync: function (e) {
                var t = x(h.vars.sync).data("flexslider"),
                    a = h.animatingTo;
                switch (e) {
                    case "animate":
                        t.flexAnimate(a, h.vars.pauseOnAction, !1, !0);
                        break;
                    case "play":
                        t.playing || t.asNav || t.play();
                        break;
                    case "pause":
                        t.pause()
                }
            },
            uniqueID: function (e) {
                return e.filter("[id]").add(e.find("[id]")).each(function () {
                    var e = x(this);
                    e.attr("id", e.attr("id") + "_clone")
                }), e
            },
            pauseInvisible: {
                visProp: null,
                init: function () {
                    var e = b.pauseInvisible.getHiddenProp();
                    if (e) {
                        var t = e.replace(/[H|h]idden/, "") + "visibilitychange";
                        document.addEventListener(t, function () {
                            b.pauseInvisible.isHidden() ? h.startTimeout ? clearTimeout(h.startTimeout) : h.pause() : h.started ? h.play() : 0 < h.vars.initDelay ? setTimeout(h.play, h.vars.initDelay) : h.play()
                        })
                    }
                },
                isHidden: function () {
                    var e = b.pauseInvisible.getHiddenProp();
                    return !!e && document[e]
                },
                getHiddenProp: function () {
                    var e = ["webkit", "moz", "ms", "o"];
                    if ("hidden" in document) return "hidden";
                    for (var t = 0; t < e.length; t++)
                        if (e[t] + "Hidden" in document) return e[t] + "Hidden";
                    return null
                }
            },
            setToClearWatchedEvent: function () {
                clearTimeout(t), t = setTimeout(function () {
                    s = ""
                }, 3e3)
            }
        }, h.flexAnimate = function (e, t, a, i, n) {
            if (h.vars.animationLoop || e === h.currentSlide || (h.direction = e > h.currentSlide ? "next" : "prev"), p && 1 === h.pagingCount && (h.direction = h.currentItem < e ? "next" : "prev"), !h.animating && (h.canAdvance(e, n) || a) && h.is(":visible")) {
                if (p && i) {
                    var o = x(h.vars.asNavFor).data("flexslider");
                    if (h.atEnd = 0 === e || e === h.count - 1, o.flexAnimate(e, !0, !1, !0, n), h.direction = h.currentItem < e ? "next" : "prev", o.direction = h.direction, Math.ceil((e + 1) / h.visible) - 1 === h.currentSlide || 0 === e) return h.currentItem = e, h.slides.removeClass(d + "active-slide").eq(e).addClass(d + "active-slide"), !1;
                    h.currentItem = e, h.slides.removeClass(d + "active-slide").eq(e).addClass(d + "active-slide"), e = Math.floor(e / h.visible)
                }
                if (h.animating = !0, h.animatingTo = e, t && h.pause(), h.vars.before(h), h.syncExists && !n && b.sync("animate"), h.vars.controlNav && b.controlNav.active(), y || h.slides.removeClass(d + "active-slide").eq(e).addClass(d + "active-slide"), h.atEnd = 0 === e || e === h.last, h.vars.directionNav && b.directionNav.update(), e === h.last && (h.vars.end(h), h.vars.animationLoop || h.pause()), w) u ? (h.slides.eq(h.currentSlide).css({
                    opacity: 0,
                    zIndex: 1
                }), h.slides.eq(e).css({
                    opacity: 1,
                    zIndex: 2
                }), _ = parseInt(h.slides.eq(e).find(".movie_info").outerHeight()), x("." + d + "control-nav").css("bottom", _), h.wrapup(c), window.innerWidth <= 768 && h.mobileHeroResize()) : (h.slides.eq(h.currentSlide).css({
                    zIndex: 1
                }).animate({
                    opacity: 0
                }, h.vars.animationSpeed, h.vars.easing), h.slides.eq(e).css({
                    zIndex: 2
                }).animate({
                    opacity: 1
                }, h.vars.animationSpeed, h.vars.easing, h.wrapup), window.innerWidth <= 768 && h.mobileHeroResize(), _ = parseInt(h.slides.eq(e).find(".movie_info").outerHeight()), x("." + d + "control-nav").css("bottom", _));
                else {
                    var r, s, l, c = v ? h.slides.filter(":first").height() : h.computedW;
                    y ? (r = h.vars.itemMargin, s = (l = (h.itemW + r) * h.move * h.animatingTo) > h.limit && 1 !== h.visible ? h.limit : l) : s = 0 === h.currentSlide && e === h.count - 1 && h.vars.animationLoop && "next" !== h.direction ? g ? (h.count + h.cloneOffset) * c : 0 : h.currentSlide === h.last && 0 === e && h.vars.animationLoop && "prev" !== h.direction ? g ? 0 : (h.count + 1) * c : g ? (h.count - 1 - e + h.cloneOffset) * c : (e + h.cloneOffset) * c, h.setProps(s, "", h.vars.animationSpeed), h.transitions ? (h.vars.animationLoop && h.atEnd || (h.animating = !1, h.currentSlide = h.animatingTo), h.container.unbind("webkitTransitionEnd transitionend"), h.container.bind("webkitTransitionEnd transitionend", function () {
                        clearTimeout(h.ensureAnimationEnd), h.wrapup(c)
                    }), clearTimeout(h.ensureAnimationEnd), h.ensureAnimationEnd = setTimeout(function () {
                        h.wrapup(c)
                    }, h.vars.animationSpeed + 100)) : h.container.animate(h.args, h.vars.animationSpeed, h.vars.easing, function () {
                        h.wrapup(c)
                    })
                }
                h.vars.smoothHeight && b.smoothHeight(h.vars.animationSpeed)
            }
        }, h.wrapup = function (e) {
            w || y || (0 === h.currentSlide && h.animatingTo === h.last && h.vars.animationLoop ? h.setProps(e, "jumpEnd") : h.currentSlide === h.last && 0 === h.animatingTo && h.vars.animationLoop && h.setProps(e, "jumpStart")), h.animating = !1, h.currentSlide = h.animatingTo, h.vars.after(h)
        }, h.animateSlides = function () {
            h.animating || h.flexAnimate(h.getTarget("next"))
        }, h.pause = function () {
            clearInterval(h.animatedSlides), h.animatedSlides = null, h.playing = !1, h.vars.pausePlay && b.pausePlay.update("play"), h.syncExists && b.sync("pause")
        }, h.play = function () {
            h.playing && clearInterval(h.animatedSlides), h.animatedSlides = h.animatedSlides || setInterval(h.animateSlides, h.vars.slideshowSpeed), h.started = h.playing = !0, h.vars.pausePlay && b.pausePlay.update("pause"), h.syncExists && b.sync("play")
        }, h.stop = function () {
            h.pause(), h.stopped = !0
        }, h.canAdvance = function (e, t) {
            var a = p ? h.pagingCount - 1 : h.last;
            return !!t || (!(!p || h.currentItem !== h.count - 1 || 0 !== e || "prev" !== h.direction) || (!p || 0 !== h.currentItem || e !== h.pagingCount - 1 || "next" === h.direction) && (!(e === h.currentSlide && !p) && (!!h.vars.animationLoop || (!h.atEnd || 0 !== h.currentSlide || e !== a || "next" === h.direction) && (!h.atEnd || h.currentSlide !== a || 0 !== e || "next" !== h.direction))))
        }, h.getTarget = function (e) {
            return "next" === (h.direction = e) ? h.currentSlide === h.last ? 0 : h.currentSlide + 1 : 0 === h.currentSlide ? h.last : h.currentSlide - 1
        }, h.setProps = function (e, t, a) {
            var i, n = (i = e || (h.itemW + h.vars.itemMargin) * h.move * h.animatingTo, -1 * function () {
                if (y) return "setTouch" === t ? e : g && h.animatingTo === h.last ? 0 : g ? h.limit - (h.itemW + h.vars.itemMargin) * h.move * h.animatingTo : h.animatingTo === h.last ? h.limit : i;
                switch (t) {
                    case "setTotal":
                        return g ? (h.count - 1 - h.currentSlide + h.cloneOffset) * e : (h.currentSlide + h.cloneOffset) * e;
                    case "setTouch":
                        return e;
                    case "jumpEnd":
                        return g ? e : h.count * e;
                    case "jumpStart":
                        return g ? h.count * e : e;
                    default:
                        return e
                }
            }() + "px");
            h.transitions && (n = v ? "translate3d(0," + n + ",0)" : "translate3d(" + n + ",0,0)", a = void 0 !== a ? a / 1e3 + "s" : "0s", h.container.css("-" + h.pfx + "-transition-duration", a), h.container.css("transition-duration", a)), h.args[h.prop] = n, (h.transitions || void 0 === a) && h.container.css(h.args), h.container.css("transform", n)
        }, h.setup = function (e) {
            var t, a;
            w ? (h.slides.css({
                width: "100%",
                float: "left",
                marginRight: "-100%",
                position: "relative"
            }), "init" === e && (u ? h.slides.css({
                opacity: 0,
                display: "block",
                webkitTransition: "opacity " + h.vars.animationSpeed / 1e3 + "s ease",
                zIndex: 1
            }).eq(h.currentSlide).css({
                opacity: 1,
                zIndex: 2
            }) : 0 == h.vars.fadeFirstSlide ? h.slides.css({
                opacity: 0,
                display: "block",
                zIndex: 1
            }).eq(h.currentSlide).css({
                zIndex: 2
            }).css({
                opacity: 1
            }) : h.slides.css({
                opacity: 0,
                display: "block",
                zIndex: 1
            }).eq(h.currentSlide).css({
                zIndex: 2
            }).animate({
                opacity: 1
            }, h.vars.animationSpeed, h.vars.easing), _ = parseInt(h.slides.eq(h.currentSlide).find(".movie_info").outerHeight())), h.vars.smoothHeight && b.smoothHeight()) : ("init" === e && (h.viewport = x('<div class="' + d + 'viewport"></div>').css({
                overflow: "hidden",
                position: "relative"
            }).appendTo(h).append(h.container), h.cloneCount = 0, h.cloneOffset = 0, g && (a = x.makeArray(h.slides).reverse(), h.slides = x(a), h.container.empty().append(h.slides))), h.vars.animationLoop && !y && (h.cloneCount = 2, h.cloneOffset = 1, "init" !== e && h.container.find(".clone").remove(), h.container.append(b.uniqueID(h.slides.first().clone().addClass("clone")).attr("aria-hidden", "true")).prepend(b.uniqueID(h.slides.last().clone().addClass("clone")).attr("aria-hidden", "true"))), h.newSlides = x(h.vars.selector, h), t = g ? h.count - 1 - h.currentSlide + h.cloneOffset : h.currentSlide + h.cloneOffset, v && !y ? (h.container.height(200 * (h.count + h.cloneCount) + "%").css("position", "absolute").width("100%"), setTimeout(function () {
                h.newSlides.css({
                    display: "block"
                }), h.doMath(), h.viewport.height(h.h), h.setProps(t * h.h, "init")
            }, "init" === e ? 100 : 0)) : (h.container.width(200 * (h.count + h.cloneCount) + "%"), h.setProps(t * h.computedW, "init"), setTimeout(function () {
                h.doMath(), h.newSlides.css({
                    width: h.computedW,
                    float: "left",
                    display: "block",
                    "margin-right": h.vars.itemMargin
                }), h.newSlides.find(".flipper-card").css({
                    height: h.computedW
                }), h.vars.smoothHeight && b.smoothHeight()
            }, "init" === e ? 100 : 0)));
            y || h.slides.removeClass(d + "active-slide").eq(h.currentSlide).addClass(d + "active-slide"), h.vars.init(h), window.innerWidth <= 768 && h.mobileHeroResize()
        }, h.doMath = function () {
            var e = h.slides.first(),
                t = h.vars.itemMargin,
                a = h.vars.minItems,
                i = h.vars.maxItems;
            h.w = void 0 === h.viewport ? h.width() : h.viewport.width(), h.h = e.height(), h.boxPadding = e.outerWidth() - e.width(), y ? (h.itemT = h.vars.itemWidth + t, h.minW = a ? a * h.itemT : h.w, h.maxW = i ? i * h.itemT - t : h.w, h.itemW = h.minW > h.w ? (h.w - t * (a - 1)) / a : h.maxW < h.w ? (h.w - t * (i - 1)) / i : h.vars.itemWidth > h.w ? h.w : h.vars.itemWidth, h.visible = Math.floor(h.w / h.itemW), h.move = 0 < h.vars.move && h.vars.move < h.visible ? h.vars.move : h.visible, h.pagingCount = Math.ceil((h.count - h.visible) / h.move + 1), h.last = h.pagingCount - 1, h.limit = 1 === h.pagingCount ? 0 : h.vars.itemWidth > h.w ? h.itemW * (h.count - 1) + t * (h.count - 1) : (h.itemW + t) * h.count - h.w - t) : (h.itemW = h.w, h.pagingCount = h.count, h.last = h.count - 1), h.computedW = h.itemW - h.boxPadding
        }, h.update = function (e, t) {
            h.doMath(), y || (e < h.currentSlide ? h.currentSlide += 1 : e <= h.currentSlide && 0 !== e && (h.currentSlide -= 1), h.animatingTo = h.currentSlide), h.vars.controlNav && !h.manualControls && ("add" === t && !y || h.pagingCount > h.controlNav.length ? b.controlNav.update("add") : ("remove" === t && !y || h.pagingCount < h.controlNav.length) && (y && h.currentSlide > h.last && (h.currentSlide -= 1, h.animatingTo -= 1), b.controlNav.update("remove", h.last))), h.vars.directionNav && b.directionNav.update()
        }, h.addSlide = function (e, t) {
            var a = x(e);
            h.count += 1, h.last = h.count - 1, v && g ? void 0 !== t ? h.slides.eq(h.count - t).after(a) : h.container.prepend(a) : void 0 !== t ? h.slides.eq(t).before(a) : h.container.append(a), h.update(t, "add"), h.slides = x(h.vars.selector + ":not(.clone)", h), h.setup(), h.vars.added(h)
        }, h.removeSlide = function (e) {
            var t = isNaN(e) ? h.slides.index(x(e)) : e;
            h.count -= 1, h.last = h.count - 1, isNaN(e) ? x(e, h.slides).remove() : v && g ? h.slides.eq(h.last).remove() : h.slides.eq(e).remove(), h.doMath(), h.update(t, "remove"), h.slides = x(h.vars.selector + ":not(.clone)", h), h.setup(), h.vars.removed(h)
        }, h.getBackgroundDimensions = function (e) {
            var t = e.css("background-image");
            t = t.replace(/url\((['"])?(.*?)\1\)/gi, "$2").split(",")[0];
            var a = new Image;
            return a.src = t, a
        }, h.mobileHeroResize = function () {
            imgHeight = parseFloat(h.find(".flex-active-slide").find(".slideimg img").height()), infoHeight = parseFloat(h.find(".flex-active-slide").find(".movie_info").outerHeight()), x("#main_hero").removeClass("keep_vh_mobile _90h"), x("#main_hero").css("height", "0px;"), x("#main_hero").css("height", imgHeight + infoHeight)
        }, h.windowSliderResize = function () {
            window.innerWidth <= 768 ? h.mobileHeroResize() : (x("#main_hero").css("height", ""), x("#main_hero").addClass("keep_vh_mobile _90h"))
        }, b.init(), x(window).resize(function () {
            h.windowSliderResize()
        })
    }, x(window).blur(function (e) {
        focused = !1
    }).focus(function (e) {
        focused = !0
    }), x.flexslider.defaults = {
        namespace: "flex-",
        selector: ".slides > li",
        animation: "fade",
        easing: "swing",
        direction: "horizontal",
        reverse: !1,
        animationLoop: !0,
        smoothHeight: !1,
        startAt: 0,
        slideshow: !0,
        slideshowSpeed: 7e3,
        animationSpeed: 600,
        initDelay: 0,
        randomize: !1,
        fadeFirstSlide: !0,
        thumbCaptions: !1,
        pauseOnAction: !0,
        pauseOnHover: !1,
        pauseInvisible: !0,
        useCSS: !0,
        touch: !0,
        video: !1,
        controlNav: !0,
        directionNav: !0,
        prevText: "Previous",
        nextText: "Next",
        keyboard: !0,
        multipleKeyboard: !1,
        mousewheel: !1,
        pausePlay: !1,
        pauseText: "Pause",
        playText: "Play",
        controlsContainer: "",
        manualControls: "",
        customDirectionNav: "",
        sync: "",
        asNavFor: "",
        itemWidth: 0,
        itemMargin: 0,
        minItems: 1,
        maxItems: 0,
        move: 0,
        allowOneSlide: !0,
        start: function () {},
        before: function () {},
        after: function () {},
        end: function () {},
        added: function () {},
        removed: function () {},
        init: function () {}
    }, x.fn.flexslider = function (i) {
        if (void 0 === i && (i = {}), "object" == typeof i) return this.each(function () {
            var e = x(this),
                t = i.selector ? i.selector : ".slides > li",
                a = e.find(t);
            1 === a.length && !0 === i.allowOneSlide || 0 === a.length ? (a.fadeIn(400), i.start && i.start(e)) : void 0 === e.data("flexslider") && new x.flexslider(this, i)
        });
        var e = x(this).data("flexslider");
        switch (i) {
            case "play":
                e.play();
                break;
            case "pause":
                e.pause();
                break;
            case "stop":
                e.stop();
                break;
            case "next":
                e.flexAnimate(e.getTarget("next"), !0);
                break;
            case "prev":
            case "previous":
                e.flexAnimate(e.getTarget("prev"), !0);
                break;
            default:
                "number" == typeof i && e.flexAnimate(i, !0)
        }
    }
}(jQuery),
function (i, a, k, d) {
    var n = k("html"),
        o = k(i),
        c = k(a),
        A = k.fancybox = function () {
            A.open.apply(this, arguments)
        },
        r = navigator.userAgent.match(/msie/i),
        s = null,
        l = a.createTouch !== d,
        u = function (e) {
            return e && e.hasOwnProperty && e instanceof k
        },
        p = function (e) {
            return e && "string" === k.type(e)
        },
        I = function (e) {
            return p(e) && 0 < e.indexOf("%")
        },
        M = function (e, t) {
            var a = parseInt(e, 10) || 0;
            return t && I(e) && (a *= A.getViewport()[t] / 100), Math.ceil(a)
        },
        P = function (e, t) {
            return M(e, t) + "px"
        };
    k.extend(A, {
        version: "2.1.5",
        defaults: {
            padding: 15,
            margin: 20,
            width: 800,
            height: 600,
            minWidth: 100,
            minHeight: 100,
            maxWidth: 9999,
            maxHeight: 9999,
            pixelRatio: 1,
            autoSize: !0,
            autoHeight: !1,
            autoWidth: !1,
            autoResize: !0,
            autoCenter: !l,
            fitToView: !0,
            aspectRatio: !1,
            topRatio: .5,
            leftRatio: .5,
            scrolling: "auto",
            wrapCSS: "",
            arrows: !0,
            closeBtn: !0,
            closeClick: !1,
            nextClick: !1,
            mouseWheel: !0,
            autoPlay: !1,
            playSpeed: 3e3,
            preload: 3,
            modal: !1,
            loop: !0,
            ajax: {
                dataType: "html",
                headers: {
                    "X-fancyBox": !0
                }
            },
            iframe: {
                scrolling: "auto",
                preload: !0
            },
            swf: {
                wmode: "transparent",
                allowfullscreen: "true",
                allowscriptaccess: "always"
            },
            keys: {
                next: {
                    13: "left",
                    34: "up",
                    39: "left",
                    40: "up"
                },
                prev: {
                    8: "right",
                    33: "down",
                    37: "right",
                    38: "down"
                },
                close: [27],
                play: [32],
                toggle: [70]
            },
            direction: {
                next: "left",
                prev: "right"
            },
            scrollOutside: !0,
            index: 0,
            type: null,
            href: null,
            content: null,
            title: null,
            tpl: {
                wrap: '<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',
                image: '<img class="fancybox-image" src="{href}" alt="" />',
                iframe: '<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen' + (r ? ' allowtransparency="true"' : "") + "></iframe>",
                error: '<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',
                closeBtn: '<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',
                next: '<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',
                prev: '<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'
            },
            openEffect: "fade",
            openSpeed: 250,
            openEasing: "swing",
            openOpacity: !0,
            openMethod: "zoomIn",
            closeEffect: "fade",
            closeSpeed: 250,
            closeEasing: "swing",
            closeOpacity: !0,
            closeMethod: "zoomOut",
            nextEffect: "elastic",
            nextSpeed: 250,
            nextEasing: "swing",
            nextMethod: "changeIn",
            prevEffect: "elastic",
            prevSpeed: 250,
            prevEasing: "swing",
            prevMethod: "changeOut",
            helpers: {
                overlay: !0,
                title: !0
            },
            onCancel: k.noop,
            beforeLoad: k.noop,
            afterLoad: k.noop,
            beforeShow: k.noop,
            afterShow: k.noop,
            beforeChange: k.noop,
            beforeClose: k.noop,
            afterClose: k.noop
        },
        group: {},
        opts: {},
        previous: null,
        coming: null,
        current: null,
        isActive: !1,
        isOpen: !1,
        isOpened: !1,
        wrap: null,
        skin: null,
        outer: null,
        inner: null,
        player: {
            timer: null,
            isActive: !1
        },
        ajaxLoad: null,
        imgPreload: null,
        transitions: {},
        helpers: {},
        open: function (l, c) {
            if (l && (k.isPlainObject(c) || (c = {}), !1 !== A.close(!0))) return k.isArray(l) || (l = u(l) ? k(l).get() : [l]), k.each(l, function (e, t) {
                var a, i, n, o, r, s = {};
                "object" === k.type(t) && (t.nodeType && (t = k(t)), u(t) ? (s = {
                    href: t.data("fancybox-href") || t.attr("href"),
                    title: t.data("fancybox-title") || t.attr("title"),
                    isDom: !0,
                    element: t
                }, k.metadata && k.extend(!0, s, t.metadata())) : s = t), a = c.href || s.href || (p(t) ? t : null), i = c.title !== d ? c.title : s.title || "", !(o = (n = c.content || s.content) ? "html" : c.type || s.type) && s.isDom && ((o = t.data("fancybox-type")) || (o = (o = t.prop("class").match(/fancybox\.(\w+)/)) ? o[1] : null)), p(a) && (o || (A.isImage(a) ? o = "image" : A.isSWF(a) ? o = "swf" : "#" === a.charAt(0) ? o = "inline" : p(t) && (o = "html", n = t)), "ajax" === o && (a = (r = a.split(/\s+/, 2)).shift(), r = r.shift())), n || ("inline" === o ? a ? n = k(p(a) ? a.replace(/.*(?=#[^\s]+$)/, "") : a) : s.isDom && (n = t) : "html" === o ? n = a : !o && !a && s.isDom && (o = "inline", n = t)), k.extend(s, {
                    href: a,
                    type: o,
                    content: n,
                    title: i,
                    selector: r
                }), l[e] = s
            }), A.opts = k.extend(!0, {}, A.defaults, c), c.keys !== d && (A.opts.keys = !!c.keys && k.extend({}, A.defaults.keys, c.keys)), A.group = l, A._start(A.opts.index)
        },
        cancel: function () {
            var e = A.coming;
            e && !1 !== A.trigger("onCancel") && (A.hideLoading(), A.ajaxLoad && A.ajaxLoad.abort(), A.ajaxLoad = null, A.imgPreload && (A.imgPreload.onload = A.imgPreload.onerror = null), e.wrap && e.wrap.stop(!0, !0).trigger("onReset").remove(), A.coming = null, A.current || A._afterZoomOut(e))
        },
        close: function (e) {
            A.cancel(), !1 !== A.trigger("beforeClose") && (A.unbindEvents(), A.isActive && (A.isOpen && !0 !== e ? (A.isOpen = A.isOpened = !1, A.isClosing = !0, k(".fancybox-item, .fancybox-nav").remove(), A.wrap.stop(!0, !0).removeClass("fancybox-opened"), A.transitions[A.current.closeMethod]()) : (k(".fancybox-wrap").stop(!0).trigger("onReset").remove(), A._afterZoomOut())))
        },
        play: function (e) {
            var t = function () {
                    clearTimeout(A.player.timer)
                },
                a = function () {
                    t(), A.current && A.player.isActive && (A.player.timer = setTimeout(A.next, A.current.playSpeed))
                },
                i = function () {
                    t(), c.unbind(".player"), A.player.isActive = !1, A.trigger("onPlayEnd")
                };
            !0 === e || !A.player.isActive && !1 !== e ? A.current && (A.current.loop || A.current.index < A.group.length - 1) && (A.player.isActive = !0, c.bind({
                "onCancel.player beforeClose.player": i,
                "onUpdate.player": a,
                "beforeLoad.player": t
            }), a(), A.trigger("onPlayStart")) : i()
        },
        next: function (e) {
            var t = A.current;
            t && (p(e) || (e = t.direction.next), A.jumpto(t.index + 1, e, "next"))
        },
        prev: function (e) {
            var t = A.current;
            t && (p(e) || (e = t.direction.prev), A.jumpto(t.index - 1, e, "prev"))
        },
        jumpto: function (e, t, a) {
            var i = A.current;
            i && (e = M(e), A.direction = t || i.direction[e >= i.index ? "next" : "prev"], A.router = a || "jumpto", i.loop && (e < 0 && (e = i.group.length + e % i.group.length), e %= i.group.length), i.group[e] !== d && (A.cancel(), A._start(e)))
        },
        reposition: function (e, t) {
            var a, i = A.current,
                n = i ? i.wrap : null;
            n && (a = A._getPosition(t), e && "scroll" === e.type ? (delete a.position, n.stop(!0, !0).animate(a, 200)) : (n.css(a), i.pos = k.extend({}, i.dim, a)))
        },
        update: function (t) {
            var a = t && t.type,
                i = !a || "orientationchange" === a;
            i && (clearTimeout(s), s = null), A.isOpen && !s && (s = setTimeout(function () {
                var e = A.current;
                e && !A.isClosing && (A.wrap.removeClass("fancybox-tmp"), (i || "load" === a || "resize" === a && e.autoResize) && A._setDimension(), "scroll" === a && e.canShrink || A.reposition(t), A.trigger("onUpdate"), s = null)
            }, i && !l ? 0 : 300))
        },
        toggle: function (e) {
            A.isOpen && (A.current.fitToView = "boolean" === k.type(e) ? e : !A.current.fitToView, l && (A.wrap.removeAttr("style").addClass("fancybox-tmp"), A.trigger("onUpdate")), A.update())
        },
        hideLoading: function () {
            c.unbind(".loading"), k("#fancybox-loading").remove()
        },
        showLoading: function () {
            var e, t;
            A.hideLoading(), e = k('<div id="fancybox-loading"><div></div></div>').click(A.cancel).appendTo("body"), c.bind("keydown.loading", function (e) {
                27 === (e.which || e.keyCode) && (e.preventDefault(), A.cancel())
            }), A.defaults.fixed || (t = A.getViewport(), e.css({
                position: "absolute",
                top: .5 * t.h + t.y,
                left: .5 * t.w + t.x
            }))
        },
        getViewport: function () {
            var e = A.current && A.current.locked || !1,
                t = {
                    x: o.scrollLeft(),
                    y: o.scrollTop()
                };
            return e ? (t.w = e[0].clientWidth, t.h = e[0].clientHeight) : (t.w = l && i.innerWidth ? i.innerWidth : o.width(), t.h = l && i.innerHeight ? i.innerHeight : o.height()), t
        },
        unbindEvents: function () {
            A.wrap && u(A.wrap) && A.wrap.unbind(".fb"), c.unbind(".fb"), o.unbind(".fb")
        },
        bindEvents: function () {
            var t, r = A.current;
            r && (o.bind("orientationchange.fb" + (l ? "" : " resize.fb") + (r.autoCenter && !r.locked ? " scroll.fb" : ""), A.update), (t = r.keys) && c.bind("keydown.fb", function (a) {
                var i = a.which || a.keyCode,
                    e = a.target || a.srcElement;
                if (27 === i && A.coming) return !1;
                !a.ctrlKey && !a.altKey && !a.shiftKey && !a.metaKey && (!e || !e.type && !k(e).is("[contenteditable]")) && k.each(t, function (e, t) {
                    return 1 < r.group.length && t[i] !== d ? (A[e](t[i]), a.preventDefault(), !1) : -1 < k.inArray(i, t) ? (A[e](), a.preventDefault(), !1) : void 0
                })
            }), k.fn.mousewheel && r.mouseWheel && A.wrap.bind("mousewheel.fb", function (e, t, a, i) {
                for (var n = k(e.target || null), o = !1; n.length && !o && !n.is(".fancybox-skin") && !n.is(".fancybox-wrap");) o = n[0] && !(n[0].style.overflow && "hidden" === n[0].style.overflow) && (n[0].clientWidth && n[0].scrollWidth > n[0].clientWidth || n[0].clientHeight && n[0].scrollHeight > n[0].clientHeight), n = k(n).parent();
                0 !== t && !o && 1 < A.group.length && !r.canShrink && (0 < i || 0 < a ? A.prev(0 < i ? "down" : "left") : (i < 0 || a < 0) && A.next(i < 0 ? "up" : "right"), e.preventDefault())
            }))
        },
        trigger: function (a, e) {
            var t, i = e || A.coming || A.current;
            if (i) {
                if (k.isFunction(i[a]) && (t = i[a].apply(i, Array.prototype.slice.call(arguments, 1))), !1 === t) return !1;
                i.helpers && k.each(i.helpers, function (e, t) {
                    t && A.helpers[e] && k.isFunction(A.helpers[e][a]) && A.helpers[e][a](k.extend(!0, {}, A.helpers[e].defaults, t), i)
                }), c.trigger(a)
            }
        },
        isImage: function (e) {
            return p(e) && e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)
        },
        isSWF: function (e) {
            return p(e) && e.match(/\.(swf)((\?|#).*)?$/i)
        },
        _start: function (e) {
            var t, a, i = {};
            if (e = M(e), !(t = A.group[e] || null)) return !1;
            if (t = (i = k.extend(!0, {}, A.opts, t)).margin, a = i.padding, "number" === k.type(t) && (i.margin = [t, t, t, t]), "number" === k.type(a) && (i.padding = [a, a, a, a]), i.modal && k.extend(!0, i, {
                    closeBtn: !1,
                    closeClick: !1,
                    nextClick: !1,
                    arrows: !1,
                    mouseWheel: !1,
                    keys: null,
                    helpers: {
                        overlay: {
                            closeClick: !1
                        }
                    }
                }), i.autoSize && (i.autoWidth = i.autoHeight = !0), "auto" === i.width && (i.autoWidth = !0), "auto" === i.height && (i.autoHeight = !0), i.group = A.group, i.index = e, A.coming = i, !1 === A.trigger("beforeLoad")) A.coming = null;
            else {
                if (a = i.type, t = i.href, !a) return A.coming = null, !(!A.current || !A.router || "jumpto" === A.router) && (A.current.index = e, A[A.router](A.direction));
                if (A.isActive = !0, "image" !== a && "swf" !== a || (i.autoHeight = i.autoWidth = !1, i.scrolling = "visible"), "image" === a && (i.aspectRatio = !0), "iframe" === a && l && (i.scrolling = "scroll"), i.wrap = k(i.tpl.wrap).addClass("fancybox-" + (l ? "mobile" : "desktop") + " fancybox-type-" + a + " fancybox-tmp " + i.wrapCSS).appendTo(i.parent || "body"), k.extend(i, {
                        skin: k(".fancybox-skin", i.wrap),
                        outer: k(".fancybox-outer", i.wrap),
                        inner: k(".fancybox-inner", i.wrap)
                    }), k.each(["Top", "Right", "Bottom", "Left"], function (e, t) {
                        i.skin.css("padding" + t, P(i.padding[e]))
                    }), A.trigger("onReady"), "inline" === a || "html" === a) {
                    if (!i.content || !i.content.length) return A._error("content")
                } else if (!t) return A._error("href");
                "image" === a ? A._loadImage() : "ajax" === a ? A._loadAjax() : "iframe" === a ? A._loadIframe() : A._afterLoad()
            }
        },
        _error: function (e) {
            k.extend(A.coming, {
                type: "html",
                autoWidth: !0,
                autoHeight: !0,
                minWidth: 0,
                minHeight: 0,
                scrolling: "no",
                hasError: e,
                content: A.coming.tpl.error
            }), A._afterLoad()
        },
        _loadImage: function () {
            var e = A.imgPreload = new Image;
            e.onload = function () {
                this.onload = this.onerror = null, A.coming.width = this.width / A.opts.pixelRatio, A.coming.height = this.height / A.opts.pixelRatio, A._afterLoad()
            }, e.onerror = function () {
                this.onload = this.onerror = null, A._error("image")
            }, e.src = A.coming.href, !0 !== e.complete && A.showLoading()
        },
        _loadAjax: function () {
            var a = A.coming;
            A.showLoading(), A.ajaxLoad = k.ajax(k.extend({}, a.ajax, {
                url: a.href,
                error: function (e, t) {
                    A.coming && "abort" !== t ? A._error("ajax", e) : A.hideLoading()
                },
                success: function (e, t) {
                    "success" === t && (a.content = e, A._afterLoad())
                }
            }))
        },
        _loadIframe: function () {
            var e = A.coming,
                t = k(e.tpl.iframe.replace(/\{rnd\}/g, (new Date).getTime())).attr("scrolling", l ? "auto" : e.iframe.scrolling).attr("src", e.href);
            k(e.wrap).bind("onReset", function () {
                try {
                    k(this).find("iframe").hide().attr("src", "//about:blank").end().empty()
                } catch (e) {}
            }), e.iframe.preload && (A.showLoading(), t.one("load", function () {
                k(this).data("ready", 1), l || k(this).bind("load.fb", A.update), k(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(), A._afterLoad()
            })), e.content = t.appendTo(e.inner), e.iframe.preload || A._afterLoad()
        },
        _preloadImages: function () {
            var e, t, a = A.group,
                i = A.current,
                n = a.length,
                o = i.preload ? Math.min(i.preload, n - 1) : 0;
            for (t = 1; t <= o; t += 1) "image" === (e = a[(i.index + t) % n]).type && e.href && ((new Image).src = e.href)
        },
        _afterLoad: function () {
            var a, e, t, i, n, o = A.coming,
                r = A.current;
            if (A.hideLoading(), o && !1 !== A.isActive)
                if (!1 === A.trigger("afterLoad", o, r)) o.wrap.stop(!0).trigger("onReset").remove(), A.coming = null;
                else {
                    switch (r && (A.trigger("beforeChange", r), r.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()), A.unbindEvents(), a = o.content, e = o.type, t = o.scrolling, k.extend(A, {
                        wrap: o.wrap,
                        skin: o.skin,
                        outer: o.outer,
                        inner: o.inner,
                        current: o,
                        previous: r
                    }), i = o.href, e) {
                        case "inline":
                        case "ajax":
                        case "html":
                            o.selector ? a = k("<div>").html(a).find(o.selector) : u(a) && (a.data("fancybox-placeholder") || a.data("fancybox-placeholder", k('<div class="fancybox-placeholder"></div>').insertAfter(a).hide()), a = a.show().detach(), o.wrap.bind("onReset", function () {
                                k(this).find(a).length && a.hide().replaceAll(a.data("fancybox-placeholder")).data("fancybox-placeholder", !1)
                            }));
                            break;
                        case "image":
                            a = o.tpl.image.replace("{href}", i);
                            break;
                        case "swf":
                            a = '<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="' + i + '"></param>', n = "", k.each(o.swf, function (e, t) {
                                a += '<param name="' + e + '" value="' + t + '"></param>', n += " " + e + '="' + t + '"'
                            }), a += '<embed src="' + i + '" type="application/x-shockwave-flash" width="100%" height="100%"' + n + "></embed></object>"
                    }(!u(a) || !a.parent().is(o.inner)) && o.inner.append(a), A.trigger("beforeShow"), o.inner.css("overflow", "yes" === t ? "scroll" : "no" === t ? "hidden" : t), A._setDimension(), A.reposition(), A.isOpen = !1, A.coming = null, A.bindEvents(), A.isOpened ? r.prevMethod && A.transitions[r.prevMethod]() : k(".fancybox-wrap").not(o.wrap).stop(!0).trigger("onReset").remove(), A.transitions[A.isOpened ? o.nextMethod : o.openMethod](), A._preloadImages()
                }
        },
        _setDimension: function () {
            var e, t, a, i, n, o, r, s, l, c = A.getViewport(),
                d = 0,
                u = !1,
                p = !1,
                f = (u = A.wrap, A.skin),
                h = A.inner,
                m = A.current,
                v = (p = m.width, m.height),
                g = m.minWidth,
                y = m.minHeight,
                w = m.maxWidth,
                b = m.maxHeight,
                x = m.scrolling,
                _ = m.scrollOutside ? m.scrollbarWidth : 0,
                C = m.margin,
                S = M(C[1] + C[3]),
                T = M(C[0] + C[2]);
            if (u.add(f).add(h).width("auto").height("auto").removeClass("fancybox-tmp"), t = S + (C = M(f.outerWidth(!0) - f.width())), a = T + (e = M(f.outerHeight(!0) - f.height())), i = I(p) ? (c.w - t) * M(p) / 100 : p, n = I(v) ? (c.h - a) * M(v) / 100 : v, "iframe" === m.type) {
                if (l = m.content, m.autoHeight && 1 === l.data("ready")) try {
                    l[0].contentWindow.document.location && (h.width(i).height(9999), o = l.contents().find("body"), _ && o.css("overflow-x", "hidden"), n = o.outerHeight(!0))
                } catch (e) {}
            } else(m.autoWidth || m.autoHeight) && (h.addClass("fancybox-tmp"), m.autoWidth || h.width(i), m.autoHeight || h.height(n), m.autoWidth && (i = h.width()), m.autoHeight && (n = h.height()), h.removeClass("fancybox-tmp"));
            if (p = M(i), v = M(n), s = i / n, g = M(I(g) ? M(g, "w") - t : g), w = M(I(w) ? M(w, "w") - t : w), y = M(I(y) ? M(y, "h") - a : y), o = w, r = b = M(I(b) ? M(b, "h") - a : b), m.fitToView && (w = Math.min(c.w - t, w), b = Math.min(c.h - a, b)), t = c.w - S, T = c.h - T, m.aspectRatio ? (w < p && (v = M((p = w) / s)), b < v && (p = M((v = b) * s)), p < g && (v = M((p = g) / s)), v < y && (p = M((v = y) * s))) : (p = Math.max(g, Math.min(p, w)), m.autoHeight && "iframe" !== m.type && (h.width(p), v = h.height()), v = Math.max(y, Math.min(v, b))), m.fitToView)
                if (h.width(p).height(v), u.width(p + C), c = u.width(), S = u.height(), m.aspectRatio)
                    for (;
                        (t < c || T < S) && g < p && y < v && !(19 < d++);) v = Math.max(y, Math.min(b, v - 10)), (p = M(v * s)) < g && (v = M((p = g) / s)), w < p && (v = M((p = w) / s)), h.width(p).height(v), u.width(p + C), c = u.width(), S = u.height();
                else p = Math.max(g, Math.min(p, p - (c - t))), v = Math.max(y, Math.min(v, v - (S - T)));
            _ && "auto" === x && v < n && p + C + _ < t && (p += _), h.width(p).height(v), u.width(p + C), c = u.width(), S = u.height(), u = (t < c || T < S) && g < p && y < v, p = m.aspectRatio ? p < o && v < r && p < i && v < n : (p < o || v < r) && (p < i || v < n), k.extend(m, {
                dim: {
                    width: P(c),
                    height: P(S)
                },
                origWidth: i,
                origHeight: n,
                canShrink: u,
                canExpand: p,
                wPadding: C,
                hPadding: e,
                wrapSpace: S - f.outerHeight(!0),
                skinSpace: f.height() - v
            }), !l && m.autoHeight && y < v && v < b && !p && h.height("auto")
        },
        _getPosition: function (e) {
            var t = A.current,
                a = A.getViewport(),
                i = t.margin,
                n = A.wrap.width() + i[1] + i[3],
                o = A.wrap.height() + i[0] + i[2];
            i = {
                position: "absolute",
                top: i[0],
                left: i[3]
            };
            return t.autoCenter && t.fixed && !e && o <= a.h && n <= a.w ? i.position = "fixed" : t.locked || (i.top += a.y, i.left += a.x), i.top = P(Math.max(i.top, i.top + (a.h - o) * t.topRatio)), i.left = P(Math.max(i.left, i.left + (a.w - n) * t.leftRatio)), i
        },
        _afterZoomIn: function () {
            var t = A.current;
            t && (A.isOpen = A.isOpened = !0, A.wrap.css("overflow", "visible").addClass("fancybox-opened"), A.update(), (t.closeClick || t.nextClick && 1 < A.group.length) && A.inner.css("cursor", "pointer").bind("click.fb", function (e) {
                !k(e.target).is("a") && !k(e.target).parent().is("a") && (e.preventDefault(), A[t.closeClick ? "close" : "next"]())
            }), t.closeBtn && k(t.tpl.closeBtn).appendTo(A.skin).bind("click.fb", function (e) {
                e.preventDefault(), A.close()
            }), t.arrows && 1 < A.group.length && ((t.loop || 0 < t.index) && k(t.tpl.prev).appendTo(A.outer).bind("click.fb", A.prev), (t.loop || t.index < A.group.length - 1) && k(t.tpl.next).appendTo(A.outer).bind("click.fb", A.next)), A.trigger("afterShow"), t.loop || t.index !== t.group.length - 1 ? A.opts.autoPlay && !A.player.isActive && (A.opts.autoPlay = !1, A.play()) : A.play(!1))
        },
        _afterZoomOut: function (e) {
            e = e || A.current, k(".fancybox-wrap").trigger("onReset").remove(), k.extend(A, {
                group: {},
                opts: {},
                router: !1,
                current: null,
                isActive: !1,
                isOpened: !1,
                isOpen: !1,
                isClosing: !1,
                wrap: null,
                skin: null,
                outer: null,
                inner: null
            }), A.trigger("afterClose", e)
        }
    }), A.transitions = {
        getOrigPosition: function () {
            var e = A.current,
                t = e.element,
                a = e.orig,
                i = {},
                n = 50,
                o = 50,
                r = e.hPadding,
                s = e.wPadding,
                l = A.getViewport();
            return !a && e.isDom && t.is(":visible") && ((a = t.find("img:first")).length || (a = t)), u(a) ? (i = a.offset(), a.is("img") && (n = a.outerWidth(), o = a.outerHeight())) : (i.top = l.y + (l.h - o) * e.topRatio, i.left = l.x + (l.w - n) * e.leftRatio), ("fixed" === A.wrap.css("position") || e.locked) && (i.top -= l.y, i.left -= l.x), {
                top: P(i.top - r * e.topRatio),
                left: P(i.left - s * e.leftRatio),
                width: P(n + s),
                height: P(o + r)
            }
        },
        step: function (e, t) {
            var a, i, n = t.prop,
                o = (i = A.current).wrapSpace,
                r = i.skinSpace;
            "width" !== n && "height" !== n || (a = t.end === t.start ? 1 : (e - t.start) / (t.end - t.start), A.isClosing && (a = 1 - a), i = e - (i = "width" === n ? i.wPadding : i.hPadding), A.skin[n](M("width" === n ? i : i - o * a)), A.inner[n](M("width" === n ? i : i - o * a - r * a)))
        },
        zoomIn: function () {
            var e = A.current,
                t = e.pos,
                a = e.openEffect,
                i = "elastic" === a,
                n = k.extend({
                    opacity: 1
                }, t);
            delete n.position, i ? (t = this.getOrigPosition(), e.openOpacity && (t.opacity = .1)) : "fade" === a && (t.opacity = .1), A.wrap.css(t).animate(n, {
                duration: "none" === a ? 0 : e.openSpeed,
                easing: e.openEasing,
                step: i ? this.step : null,
                complete: A._afterZoomIn
            })
        },
        zoomOut: function () {
            var e = A.current,
                t = e.closeEffect,
                a = "elastic" === t,
                i = {
                    opacity: .1
                };
            a && (i = this.getOrigPosition(), e.closeOpacity && (i.opacity = .1)), A.wrap.animate(i, {
                duration: "none" === t ? 0 : e.closeSpeed,
                easing: e.closeEasing,
                step: a ? this.step : null,
                complete: A._afterZoomOut
            })
        },
        changeIn: function () {
            var e, t = A.current,
                a = t.nextEffect,
                i = t.pos,
                n = {
                    opacity: 1
                },
                o = A.direction;
            i.opacity = .1, "elastic" === a && (e = "down" === o || "up" === o ? "top" : "left", "down" === o || "right" === o ? (i[e] = P(M(i[e]) - 200), n[e] = "+=200px") : (i[e] = P(M(i[e]) + 200), n[e] = "-=200px")), "none" === a ? A._afterZoomIn() : A.wrap.css(i).animate(n, {
                duration: t.nextSpeed,
                easing: t.nextEasing,
                complete: A._afterZoomIn
            })
        },
        changeOut: function () {
            var e = A.previous,
                t = e.prevEffect,
                a = {
                    opacity: .1
                },
                i = A.direction;
            "elastic" === t && (a["down" === i || "up" === i ? "top" : "left"] = ("up" === i || "left" === i ? "-" : "+") + "=200px"), e.wrap.animate(a, {
                duration: "none" === t ? 0 : e.prevSpeed,
                easing: e.prevEasing,
                complete: function () {
                    k(this).trigger("onReset").remove()
                }
            })
        }
    }, A.helpers.overlay = {
        defaults: {
            closeClick: !0,
            speedOut: 200,
            showEarly: !0,
            css: {},
            locked: !l,
            fixed: !0
        },
        overlay: null,
        fixed: !1,
        el: k("html"),
        create: function (e) {
            e = k.extend({}, this.defaults, e), this.overlay && this.close(), this.overlay = k('<div class="fancybox-overlay"></div>').appendTo(A.coming ? A.coming.parent : e.parent), this.fixed = !1, e.fixed && A.defaults.fixed && (this.overlay.addClass("fancybox-overlay-fixed"), this.fixed = !0)
        },
        open: function (e) {
            var t = this;
            e = k.extend({}, this.defaults, e), this.overlay ? this.overlay.unbind(".overlay").width("auto").height("auto") : this.create(e), this.fixed || (o.bind("resize.overlay", k.proxy(this.update, this)), this.update()), e.closeClick && this.overlay.bind("click.overlay", function (e) {
                if (k(e.target).hasClass("fancybox-overlay")) return A.isActive ? A.close() : t.close(), !1
            }), this.overlay.css(e.css).show()
        },
        close: function () {
            var e, t;
            o.unbind("resize.overlay"), this.el.hasClass("fancybox-lock") && (k(".fancybox-margin").removeClass("fancybox-margin"), e = o.scrollTop(), t = o.scrollLeft(), this.el.removeClass("fancybox-lock"), o.scrollTop(e).scrollLeft(t)), k(".fancybox-overlay").remove().hide(), k.extend(this, {
                overlay: null,
                fixed: !1
            })
        },
        update: function () {
            var e, t = "100%";
            this.overlay.width(t).height("100%"), r ? (e = Math.max(a.documentElement.offsetWidth, a.body.offsetWidth), c.width() > e && (t = c.width())) : c.width() > o.width() && (t = c.width()), this.overlay.width(t).height(c.height())
        },
        onReady: function (e, t) {
            var a = this.overlay;
            k(".fancybox-overlay").stop(!0, !0), a || this.create(e), e.locked && this.fixed && t.fixed && (a || (this.margin = c.height() > o.height() && k("html").css("margin-right").replace("px", "")), t.locked = this.overlay.append(t.wrap), t.fixed = !1), !0 === e.showEarly && this.beforeShow.apply(this, arguments)
        },
        beforeShow: function (e, t) {
            var a, i;
            t.locked && (!1 !== this.margin && (k("*").filter(function () {
                return "fixed" === k(this).css("position") && !k(this).hasClass("fancybox-overlay") && !k(this).hasClass("fancybox-wrap")
            }).addClass("fancybox-margin"), this.el.addClass("fancybox-margin")), a = o.scrollTop(), i = o.scrollLeft(), this.el.addClass("fancybox-lock"), o.scrollTop(a).scrollLeft(i)), this.open(e)
        },
        onUpdate: function () {
            this.fixed || this.update()
        },
        afterClose: function (e) {
            this.overlay && !A.coming && this.overlay.fadeOut(e.speedOut, k.proxy(this.close, this))
        }
    }, A.helpers.title = {
        defaults: {
            type: "float",
            position: "bottom"
        },
        beforeShow: function (e) {
            var t = A.current,
                a = t.title,
                i = e.type;
            if (k.isFunction(a) && (a = a.call(t.element, t)), p(a) && "" !== k.trim(a)) {
                switch (t = k('<div class="fancybox-title fancybox-title-' + i + '-wrap">' + a + "</div>"), i) {
                    case "inside":
                        i = A.skin;
                        break;
                    case "outside":
                        i = A.wrap;
                        break;
                    case "over":
                        i = A.inner;
                        break;
                    default:
                        i = A.skin, t.appendTo("body"), r && t.width(t.width()), t.wrapInner('<span class="child"></span>'), A.current.margin[2] += Math.abs(M(t.css("margin-bottom")))
                }
                t["top" === e.position ? "prependTo" : "appendTo"](i)
            }
        }
    }, k.fn.fancybox = function (o) {
        var r, s = k(this),
            l = this.selector || "",
            e = function (e) {
                var t, a, i = k(this).blur(),
                    n = r;
                !e.ctrlKey && !e.altKey && !e.shiftKey && !e.metaKey && !i.is(".fancybox-wrap") && (t = o.groupAttr || "data-fancybox-group", (a = i.attr(t)) || (t = "rel", a = i.get(0)[t]), a && "" !== a && "nofollow" !== a && (n = (i = (i = l.length ? k(l) : s).filter("[" + t + '="' + a + '"]')).index(this)), o.index = n, !1 !== A.open(i, o) && e.preventDefault())
            };
        return r = (o = o || {}).index || 0, l && !1 !== o.live ? c.undelegate(l, "click.fb-start").delegate(l + ":not('.fancybox-item, .fancybox-nav')", "click.fb-start", e) : s.unbind("click.fb-start").bind("click.fb-start", e), this.filter("[data-fancybox-start=1]").trigger("click"), this
    }, c.ready(function () {
        var e, t;
        if (k.scrollbarWidth === d && (k.scrollbarWidth = function () {
                var e = k('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),
                    t = (t = e.children()).innerWidth() - t.height(99).innerWidth();
                return e.remove(), t
            }), k.support.fixedPosition === d) {
            e = k.support;
            var a = 20 === (t = k('<div style="position:fixed;top:20px;"></div>').appendTo("body"))[0].offsetTop || 15 === t[0].offsetTop;
            t.remove(), e.fixedPosition = a
        }
        k.extend(A.defaults, {
            scrollbarWidth: k.scrollbarWidth(),
            fixed: k.support.fixedPosition,
            parent: k("body")
        }), e = k(i).width(), n.addClass("fancybox-lock-test"), t = k(i).width(), n.removeClass("fancybox-lock-test"), k("<style type='text/css'>.fancybox-margin{margin-right:" + (t - e) + "px;}</style>").appendTo("head")
    })
}(window, document, jQuery),
function (l) {
    "use strict";
    var e = l.fancybox,
        c = function (a, e, t) {
            return t = t || "", "object" === l.type(t) && (t = l.param(t, !0)), l.each(e, function (e, t) {
                a = a.replace("$" + e, t || "")
            }), t.length && (a += (0 < a.indexOf("?") ? "&" : "?") + t), a
        };
    e.helpers.media = {
        defaults: {
            youtube: {
                matcher: /(youtube\.com|youtu\.be|youtube-nocookie\.com)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i,
                params: {
                    autoplay: 1,
                    autohide: 1,
                    fs: 1,
                    rel: 0,
                    hd: 1,
                    wmode: "opaque",
                    enablejsapi: 1
                },
                type: "iframe",
                url: "//www.youtube.com/embed/$3"
            },
            vimeo: {
                matcher: /(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/,
                params: {
                    autoplay: 1,
                    hd: 1,
                    show_title: 1,
                    show_byline: 1,
                    show_portrait: 0,
                    fullscreen: 1
                },
                type: "iframe",
                url: "//player.vimeo.com/video/$1"
            },
            metacafe: {
                matcher: /metacafe.com\/(?:watch|fplayer)\/([\w\-]{1,10})/,
                params: {
                    autoPlay: "yes"
                },
                type: "swf",
                url: function (e, t, a) {
                    return a.swf.flashVars = "playerVars=" + l.param(t, !0), "//www.metacafe.com/fplayer/" + e[1] + "/.swf"
                }
            },
            dailymotion: {
                matcher: /dailymotion.com\/video\/(.*)\/?(.*)/,
                params: {
                    additionalInfos: 0,
                    autoStart: 1
                },
                type: "swf",
                url: "//www.dailymotion.com/swf/video/$1"
            },
            twitvid: {
                matcher: /twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i,
                params: {
                    autoplay: 0
                },
                type: "iframe",
                url: "//www.twitvid.com/embed.php?guid=$1"
            },
            twitpic: {
                matcher: /twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i,
                type: "image",
                url: "//twitpic.com/show/full/$1/"
            },
            instagram: {
                matcher: /(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,
                type: "image",
                url: "//$1/p/$2/media/?size=l"
            },
            google_maps: {
                matcher: /maps\.google\.([a-z]{2,3}(\.[a-z]{2})?)\/(\?ll=|maps\?)(.*)/i,
                type: "iframe",
                url: function (e) {
                    return "//maps.google." + e[1] + "/" + e[3] + e[4] + "&output=" + (0 < e[4].indexOf("layer=c") ? "svembed" : "embed")
                }
            }
        },
        beforeLoad: function (e, t) {
            var a, i, n, o, r = t.href || "",
                s = !1;
            for (a in e)
                if (e.hasOwnProperty(a) && (i = e[a], n = r.match(i.matcher))) {
                    s = i.type, o = l.extend(!0, {}, i.params, t[a] || (l.isPlainObject(e[a]) ? e[a].params : null)), r = "function" === l.type(i.url) ? i.url.call(this, n, o, t) : c(i.url, n, o);
                    break
                } s && (t.href = r, t.type = s, t.autoHeight = !1)
        }
    }
}(jQuery),
function (n) {
    if (self === top) {
        var e = document.getElementById("antiClickjack");
        e.parentNode.removeChild(e)
    } else top.location = self.location;
    var t = 0,
        a = n("#main_hero .slides").children().first();
    a.length ? a.each(function () {
        var e = n(this).find(".slideimg").data("src");
        n("<img/>").attr("src", e).on("load", function () {
            n(this).remove(), ++t == a.length && n("#hideAll").fadeOut(500)
        })
    }) : n(".stretchimg").length ? n("<img/>").attr("src", n(".stretchimg").attr("src")).on("load", function () {
        n(this).remove(), n("#hideAll").fadeOut(500)
    }) : n("#hideAll").fadeOut(500), (-1 < window.location.href.indexOf("test=1") || -1 < window.location.href.indexOf("test=true")) && n("#hideAll").fadeOut(500);
    var i, o, r, s, l, c = jQuery(window),
        d = {
            slideshow: !1,
            animation: "slide",
            controlNav: !1,
            pauseOnHover: !0,
            animationLoop: !0,
            itemWidth: 100,
            itemMargin: 20,
            minItems: u(),
            maxItems: u(),
            touch: !0
        };

    function u() {
        return window.innerWidth < 600 ? 1 : window.innerWidth < 900 ? 2 : 3
    }
    if (o = n(".flexslider-flipcards").flexslider(d), i = n(".flexslider-slides").flexslider({
            animation: "fade",
            controlNav: !0,
            directionNav: !1,
            pauseOnHover: !0,
            touch: !0
        }), c.resize(function () {
            clearTimeout(resizeTimer), resizeTimer = setTimeout(function () {
                ! function () {
                    if (o.data("flexslider")) {
                        var e = u();
                        o.data("flexslider").vars.minItems = e, o.data("flexslider").vars.maxItems = e, o.resize()
                    }
                    var t = n("#main-navigation").outerHeight();
                    n(".stretchimg").css("margin-top", t), i.resize();
                    var a = parseInt(i.find(".flex-active-slide").find(".movie_info").outerHeight());
                    n(".flex-control-nav").css("bottom", a)
                }()
            }, 1)
        }), window.innerWidth < 768 && (n("#flip_card .flipper-card").bind("click", function (e) {
            e.preventDefault(), n(this).children("a")[0].click()
        }), setTimeout(function () {
            var e = n("#main-navigation").outerHeight();
            n(".stretchimg").css("margin-top", e)
        }, 250, this)), n("#flip_card .flipper-card .backside").on("click", function () {
            window.location.href = n(this).find("a").attr("href")
        }), n("img.lazy").lazyload({
            threshold: 50,
            effect: "fadeIn"
        }), -1 != window.location.search.indexOf("tl_search") && n("#theater_locator").length) {
        var p = function (e) {
            e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
            var t = new RegExp("[\\?&]" + e + "=([^&#]*)").exec(location.search);
            return null === t ? "" : decodeURIComponent(t[1].replace(/\+/g, " "))
        }("tl_search");
        p = p.replace(/_/g, " "), r = "#theater_locator", s = 1e3, l = !0 ? n("#main-navigation").outerHeight() - 11 : 0, n("html, body").animate({
            scrollTop: n(r).offset().top - l
        }, s), setTimeout(function () {
            n("#theater_locator_input").focus().val(p), n("#theater_locator div.theater_locator_input_enter").trigger("click")
        }, 500)
    }
    n(document).ready(function () {
        n("#main-navigation").after(n('<div id="navbar-height-col"></div>'));
        var s, t = ".navbar-header";
        n("#main-navigation").on("click load", ".navbar-toggle", function () {
            var e = n(this).hasClass("slide-active");
            n("#navbar-height-col").stop().animate({
                left: e ? "-100%" : "0px"
            }), n(t).stop().animate({
                left: e ? "0px" : "100%"
            }), n(this).toggleClass("slide-active", !e), n("#utility-nav").toggleClass("slide-active"), n("#mamawrapper, " + t + ", .navbar, body").toggleClass("slide-active")
        }), n(document).on("click", "li.nav_email_updates a", function () {
            n("#nav-links").addClass("fadeHide"), n("#email-updates-container").removeClass("fadeHide").addClass("open")
        }), n(document).on("click", "#emailupdatesclosebtn", function () {
            n("#email-updates-container").addClass("fadeHide").removeClass("open"), n("#nav-links").removeClass("fadeHide")
        }), 0 < n(".navbar").length && n(window).on("scroll load resize", function () {
            var e;
            e = 2 * n(".navbar").height(), n(window).scrollTop() > e ? n(".navbar").addClass("scrolled") : n(".navbar").removeClass("scrolled")
        }), n().SmoothAnchors(), n(window).on("resize load", function () {
            setTimeout(function () {
                n(".tablecat-body").each(function () {
                    var e = 0,
                        t = n(this);
                    n.each(t.children(), function () {
                        e += n(this).outerHeight(!0) + 12
                    }), n(this).css("max-height", e)
                })
            }, 150)
        }), n(".tablecat-title").bind("click", function () {
            n(this).find("h1").toggleClass("active"), n(this).siblings(".tablecat-body").toggleClass("collapse")
        }), setTimeout(function () {
            n(".tablecat-group").slice(1).find(".tablecat-body").addClass("collapse"), n(".tablecat-group").slice(1).find(".tablecat-title h1").removeClass("active")
        }, 350), n(".controls.down").click(function () {
            var e = n(".target").first();
            return n("html, body").stop().animate({
                scrollTop: e.offset().top
            }, 1200), !1
        }), n(".galleryimg.fancybox").fancybox({
            transitionIn: "elastic",
            transitionOut: "elastic",
            cyclic: !0,
            autoScale: !0,
            helpers: {
                title: {
                    type: "inside"
                },
                overlay: {
                    locked: !1,
                    css: {
                        overflow: "hidden"
                    }
                }
            }
        }), n(".galleryimg.fancybox").on("click", function (e) {
            e.preventDefault()
        }), n(document).on("mouseover", ".socialicon-wrapper", function () {
            n(this).addClass("active")
        }), n(document).on("mouseout", ".socialicon-wrapper", function () {
            var e = n(this);
            setTimeout(function () {
                e.removeClass("active")
            }, 450)
        }), n(".socialicon-wrapper").bind("touchstart", function () {
            n(this).toggleClass("active")
        }), n(".videoclip").bind("click", function (e) {
            n("#videowrapper").hasClass("activate") && e.preventDefault(), n("#videowrapper iframe").remove(), n("#videowrapper").addClass("activate"), n(".fp-close").removeClass("scaleIn");
            var t = n(this).data("videoid"),
                a = n(this).data("provider"),
                i = document.createElement("IFRAME");
            a = "youtube" == a ? "https://www.youtube.com/embed/" + t + "?enablejsapi=1&wmode=opaque&rel=0&vq=hd1080&showinfo=1&autoplay=1&iv_load_policy=3" : "https://player.vimeo.com/video/" + t + "?autoplay=true", i.setAttribute("src", a), i.style.width = "100%", i.style.height = "100%", i.frameborder = 0, n("nav").hide(), setTimeout(function () {
                return n("#videowrapper").append(i), !1
            }, 650, this)
        }), n(".fp-close").bind("click touchstart", function () {
            n("#videowrapper").removeClass("activate"), n(".fp-close").addClass("scaleIn"), n("nav li.parent").removeClass("active"), n("nav").show(), setTimeout(function () {
                return n("#videowrapper iframe").remove(), !1
            }, 650, this)
        }), (s = jQuery).fn.visible = function (e) {
            var t = s(this),
                a = s(window),
                i = a.scrollTop(),
                n = i + a.height(),
                o = t.offset().top,
                r = o + t.height();
            return (!0 === e ? o : r) <= n && i <= (!0 === e ? r : o)
        };
        var e = n(window),
            a = n(".module");
        a.each(function (e, t) {
            (t = n(t)).visible(!0) && t.addClass("already-visible")
        }), e.scroll(function () {
            a.each(function (e, t) {
                (t = n(t)).visible(!0) && t.addClass("animate")
            })
        })
    }), n.fn.SmoothAnchors = function () {
        function a(e) {
            var t = n("header").outerHeight();
            0 == t && (t = n("header nav").outerHeight(!0));
            var a = n(document).scrollTop();
            n(document).scrollTop(a), n("html,body").animate({
                scrollTop: parseInt(e) - parseInt(t)
            }, 500)
        }
        "function" == typeof n().on ? n(document).on("click", 'a[href^="#"]', function () {
            var e = n(this).attr("href");
            if (0 == n(e).length) {
                var t = "[name=" + e.replace("#", "") + "]";
                "#" == e ? a(0) : 0 != n(t).length ? a(n(t).offset().top) : window.location = e
            } else a(n(e).offset().top);
            return !1
        }) : n('a[href^="#"]').click(function () {
            var e = n(this).attr("href");
            if (0 == n(e).length) {
                var t = "[name=" + e.replace("#", "") + "]";
                "#" == e ? a(0) : 0 != n(t).length ? a(n(t).offset().top) : window.location = e
            } else a(n(e).offset().top);
            return !1
        }), window.location.hash && a(n(window.location.hash).offset().top)
    }
}(jQuery);
//# sourceMappingURL=map/common.min.js.map
